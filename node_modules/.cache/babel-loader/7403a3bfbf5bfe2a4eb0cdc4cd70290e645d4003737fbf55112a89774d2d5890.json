{"ast":null,"code":"var _jsxFileName = \"D:\\\\Learn\\\\Company\\\\PEOSONAL\\\\Suralyric\\\\src\\\\components\\\\BandLyricsSync.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Music, Users, FileText, Upload, Monitor, ArrowLeft, Maximize2, Minimize2, X, LogOut, User } from 'lucide-react';\nimport { io } from 'socket.io-client';\nimport { getServerUrl, getApiUrl } from '../utils/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function BandLyricsSync({\n  user,\n  onLogout\n}) {\n  _s();\n  const [role, setRole] = useState('');\n  const [sessionId, setSessionId] = useState('');\n  const [currentFile, setCurrentFile] = useState(null);\n  const [filePreview, setFilePreview] = useState('');\n  const [connectedDevices, setConnectedDevices] = useState(1);\n  const [messages, setMessages] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [isExtractingText, setIsExtractingText] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [bandMembers, setBandMembers] = useState([]);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  // Check for stored role on component mount - but don't auto-set role\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      try {\n        const userData = JSON.parse(storedUser);\n        // Don't automatically set role - let user choose each time\n        // Only set role if it's explicitly stored as a session role (not user role)\n        const sessionRole = localStorage.getItem('sessionRole');\n        if (sessionRole && sessionRole !== '') {\n          setRole(sessionRole);\n          const sessionId = localStorage.getItem('sessionId');\n          if (sessionId) {\n            setSessionId(sessionId);\n          } else {\n            const newSessionId = `BAND-${Math.random().toString(36).substr(2, 6).toUpperCase()}`;\n            setSessionId(newSessionId);\n            localStorage.setItem('sessionId', newSessionId);\n          }\n        }\n      } catch (error) {\n        console.error('Error parsing stored user data:', error);\n      }\n    }\n  }, []);\n\n  // Initialize socket connection\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app');\n    console.log('Connecting to server:', serverUrl);\n    const newSocket = io(serverUrl, {\n      transports: ['websocket', 'polling'],\n      timeout: 20000,\n      forceNew: true\n    });\n    setSocket(newSocket);\n    newSocket.on('connect', () => {\n      setIsConnected(true);\n      addMessage('ðŸ”— Connected to server');\n    });\n    newSocket.on('disconnect', reason => {\n      setIsConnected(false);\n      addMessage(`âŒ Disconnected from server: ${reason}`);\n      console.log('Socket disconnected:', reason);\n    });\n    newSocket.on('connect_error', error => {\n      console.error('Socket connection error:', error);\n      addMessage(`âŒ Connection failed: ${error.message}`);\n    });\n    newSocket.on('error', error => {\n      console.error('Socket error:', error);\n      addMessage(`âŒ Socket error: ${error.message}`);\n    });\n    newSocket.on('deviceCountUpdate', count => {\n      setConnectedDevices(count);\n    });\n    newSocket.on('fileSync', fileData => {\n      if (fileData && fileData.fileName) {\n        setCurrentFile(fileData);\n        // Use storedFileName for the actual file access, but display original fileName\n        const serverUrl = process.env.REACT_APP_SERVER_URL || (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app');\n        setFilePreview(`${serverUrl}/uploads/${fileData.storedFileName}`);\n        addMessage(`ðŸ“„ \"${fileData.fileName}\" received from master`);\n        setIsExtractingText(false);\n      }\n    });\n    newSocket.on('fileUploaded', data => {\n      addMessage(`ðŸ“„ \"${data.fileName}\" uploaded by master`);\n    });\n    newSocket.on('userJoined', data => {\n      var _data$user, _data$user2;\n      const displayName = ((_data$user = data.user) === null || _data$user === void 0 ? void 0 : _data$user.displayName) || ((_data$user2 = data.user) === null || _data$user2 === void 0 ? void 0 : _data$user2.username) || data.role;\n      addMessage(`ðŸ‘¤ ${displayName} joined the session`);\n      // Update band members list\n      setBandMembers(prev => [...prev, {\n        role: data.role,\n        user: data.user,\n        joinedAt: new Date().toISOString()\n      }]);\n    });\n    newSocket.on('userLeft', data => {\n      var _data$user3, _data$user4;\n      const displayName = ((_data$user3 = data.user) === null || _data$user3 === void 0 ? void 0 : _data$user3.displayName) || ((_data$user4 = data.user) === null || _data$user4 === void 0 ? void 0 : _data$user4.username) || data.role;\n      addMessage(`ðŸ‘¤ ${displayName} left the session`);\n      setBandMembers(prev => prev.filter(member => {\n        var _member$user, _data$user5;\n        return ((_member$user = member.user) === null || _member$user === void 0 ? void 0 : _member$user.id) !== ((_data$user5 = data.user) === null || _data$user5 === void 0 ? void 0 : _data$user5.id) && member.role !== data.role;\n      }));\n    });\n    newSocket.on('fullscreenToggle', data => {\n      setIsFullscreen(data.isFullscreen);\n    });\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n  const addMessage = msg => {\n    setMessages(prev => [...prev, {\n      text: msg,\n      time: new Date().toLocaleTimeString()\n    }]);\n  };\n  const handleFileUpload = async file => {\n    if (file && role === 'master' && socket) {\n      setIsExtractingText(true);\n      addMessage(`ðŸ“„ Uploading \"${file.name}\" and extracting text...`);\n      const formData = new FormData();\n      formData.append('file', file);\n      try {\n        const token = localStorage.getItem('token');\n        const serverUrl = process.env.REACT_APP_SERVER_URL || (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app');\n        const response = await fetch(`${serverUrl}/api/upload`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          },\n          body: formData\n        });\n        if (response.ok) {\n          const result = await response.json();\n          addMessage(`ðŸ“„ \"${file.name}\" uploaded and processed successfully`);\n\n          // Manually trigger file display for master device\n          if (result.file) {\n            setCurrentFile(result.file);\n            const serverUrl = process.env.REACT_APP_SERVER_URL || (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app');\n            setFilePreview(`${serverUrl}/uploads/${result.file.storedFileName}`);\n          }\n        } else {\n          const errorData = await response.json();\n          addMessage(`âŒ Failed to upload file: ${errorData.error || 'Unknown error'}`);\n        }\n      } catch (error) {\n        console.error('Upload error:', error);\n        addMessage(`âŒ Upload failed: ${error.message}`);\n      } finally {\n        setIsExtractingText(false);\n      }\n    }\n  };\n  const handleFileInputChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  };\n\n  // Drag and drop handlers\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (role === 'master') {\n      setIsDragOver(true);\n    }\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragOver(false);\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragOver(false);\n    if (role === 'master') {\n      const files = e.dataTransfer.files;\n      if (files.length > 0) {\n        const file = files[0];\n        // Check if file type is supported\n        const supportedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'];\n        if (supportedTypes.includes(file.type)) {\n          handleFileUpload(file);\n        } else {\n          addMessage(`âŒ Unsupported file type. Please upload PDF, JPG, or PNG files.`);\n        }\n      }\n    }\n  };\n  const handleRoleSelect = selectedRole => {\n    setRole(selectedRole);\n    const newSessionId = `BAND-${Math.random().toString(36).substr(2, 6).toUpperCase()}`;\n    setSessionId(newSessionId);\n\n    // Store session role separately from user data\n    localStorage.setItem('sessionRole', selectedRole);\n    localStorage.setItem('sessionId', newSessionId);\n\n    // Don't update user's role in localStorage - keep user data separate from session role\n    const userData = {\n      ...user\n    };\n    if (socket) {\n      socket.emit('joinSession', {\n        role: selectedRole,\n        sessionId: newSessionId,\n        user: userData\n      });\n    }\n    addMessage(`âœ… Connected as ${selectedRole}`);\n    if (selectedRole === 'viewer') {\n      setTimeout(() => {\n        addMessage('ðŸŽµ Waiting for lyrics from master device...');\n      }, 500);\n    }\n  };\n  const handleBackToRoleSelection = () => {\n    // Reset role and session\n    setRole('');\n    setSessionId('');\n    setCurrentFile(null);\n    setFilePreview('');\n    setMessages([]);\n    setIsFullscreen(false);\n    setBandMembers([]);\n\n    // Clear session role from localStorage (not user data)\n    localStorage.removeItem('sessionRole');\n    localStorage.removeItem('sessionId');\n\n    // Leave the current session\n    if (socket) {\n      socket.emit('leaveSession');\n    }\n    addMessage('ðŸ”„ Returned to role selection');\n  };\n  const handleClearSession = () => {\n    // Reset everything\n    setRole('');\n    setSessionId('');\n    setCurrentFile(null);\n    setFilePreview('');\n    setMessages([]);\n    setIsFullscreen(false);\n    setBandMembers([]);\n    setConnectedDevices(1);\n\n    // Clear session role from localStorage (not user data)\n    localStorage.removeItem('sessionRole');\n    localStorage.removeItem('sessionId');\n\n    // Leave the current session\n    if (socket) {\n      socket.emit('leaveSession');\n    }\n    addMessage('ðŸ”„ Session cleared - please select your role');\n  };\n  const handleLogout = () => {\n    // Leave the current session\n    if (socket) {\n      socket.emit('leaveSession');\n    }\n\n    // Clear session data from localStorage\n    localStorage.removeItem('sessionRole');\n    localStorage.removeItem('sessionId');\n\n    // Call the logout function from parent\n    onLogout();\n  };\n  const toggleFullscreen = () => {\n    const newFullscreenState = !isFullscreen;\n    setIsFullscreen(newFullscreenState);\n    if (socket) {\n      socket.emit('fullscreenToggle', {\n        isFullscreen: newFullscreenState\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 p-2 sm:p-4\",\n    children: [isFullscreen && currentFile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black z-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative w-full h-full flex items-center justify-center p-2 sm:p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleFullscreen,\n          className: \"absolute top-4 right-4 bg-red-500 hover:bg-red-400 text-white p-3 rounded-full z-10\",\n          title: \"Exit Fullscreen\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-full flex items-center justify-center overflow-hidden\",\n          children: currentFile.mimeType && currentFile.mimeType.startsWith('image/') ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: filePreview,\n            alt: \"Lyrics\",\n            className: \"max-w-full max-h-full object-contain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this) : currentFile.mimeType === 'application/pdf' ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: `${process.env.REACT_APP_SERVER_URL || (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app')}/uploads/${currentFile.storedFileName}`,\n            className: \"w-full h-full\",\n            title: \"PDF Viewer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white text-center\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"w-16 h-16 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg\",\n              children: currentFile.fileName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }, this), role === 'master' && /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"fileInput\",\n      type: \"file\",\n      accept: \".pdf,.jpg,.jpeg,.png\",\n      onChange: handleFileInputChange,\n      className: \"hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 border border-white/20\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [role && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleBackToRoleSelection,\n                className: \"flex items-center justify-center bg-white/20 hover:bg-white/30 active:bg-white/40 text-white px-3 py-3 sm:px-3 sm:py-2 rounded-lg transition-all transform hover:scale-105 active:scale-95 min-h-[44px] sm:min-h-0\",\n                title: \"Back to role selection\",\n                children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                  className: \"w-5 h-5 sm:w-4 sm:h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Music, {\n                className: \"w-6 h-6 sm:w-8 sm:h-8 text-purple-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl sm:text-3xl font-bold text-white\",\n                children: \"Suralyric\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [user && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 bg-white/20 px-3 py-2 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-4 h-4 text-purple-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-white font-semibold text-sm\",\n                    children: user.displayName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-purple-300 text-xs\",\n                    children: user.role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), sessionId && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `px-2 sm:px-3 py-1 rounded-full text-xs font-semibold ${isConnected ? 'bg-green-500/20 text-green-300' : 'bg-red-500/20 text-red-300'}`,\n                children: isConnected ? 'ðŸŸ¢ Connected' : 'ðŸ”´ Disconnected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), sessionId && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 justify-end\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 bg-white/20 px-3 sm:px-4 py-2 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"w-4 h-4 sm:w-5 sm:h-5 text-green-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white font-semibold text-sm sm:text-base\",\n                children: [connectedDevices, \" Devices\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/20 px-3 sm:px-4 py-2 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-200 text-xs sm:text-sm\",\n                children: \"Session: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white font-mono font-bold text-xs sm:text-sm\",\n                children: sessionId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), !role ?\n      /*#__PURE__*/\n      /* Role Selection */\n      _jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 sm:p-8 lg:p-12 border border-white/20\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl sm:text-2xl font-bold text-white\",\n            children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.displayName, \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"flex items-center gap-2 bg-red-500/20 hover:bg-red-500/30 active:bg-red-500/40 text-red-300 hover:text-red-200 px-3 py-2 rounded-lg transition-all\",\n            title: \"Logout\",\n            children: [/*#__PURE__*/_jsxDEV(LogOut, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-purple-200 text-center mb-6 sm:mb-8\",\n          children: \"Select your role to join the session:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClearSession,\n            className: \"text-purple-300 hover:text-purple-200 text-sm underline\",\n            title: \"Clear current session and start fresh\",\n            children: \"Clear Session & Start Fresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRoleSelect('master'),\n            className: \"group bg-gradient-to-br from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 active:from-green-600 active:to-emerald-700 p-6 sm:p-8 rounded-xl transition-all transform hover:scale-105 active:scale-95 shadow-2xl min-h-[200px] sm:min-h-0\",\n            children: [/*#__PURE__*/_jsxDEV(Monitor, {\n              className: \"w-12 h-12 sm:w-16 sm:h-16 text-white mx-auto mb-3 sm:mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg sm:text-2xl font-bold text-white mb-2\",\n              children: \"Master Device\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-green-100 text-sm sm:text-base\",\n              children: \"Control and broadcast lyrics to all band members\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRoleSelect('viewer'),\n            className: \"group bg-gradient-to-br from-blue-500 to-indigo-600 hover:from-blue-400 hover:to-indigo-500 active:from-blue-600 active:to-indigo-700 p-6 sm:p-8 rounded-xl transition-all transform hover:scale-105 active:scale-95 shadow-2xl min-h-[200px] sm:min-h-0\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"w-12 h-12 sm:w-16 sm:h-16 text-white mx-auto mb-3 sm:mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg sm:text-2xl font-bold text-white mb-2\",\n              children: \"Band Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-100 text-sm sm:text-base\",\n              children: \"Receive and view lyrics synced from master\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 border border-white/20 min-h-80 sm:min-h-96 transition-all duration-300 ${isDragOver && role === 'master' ? 'bg-purple-500/20 border-2 border-dashed border-purple-400' : ''}`,\n            onDragOver: handleDragOver,\n            onDragLeave: handleDragLeave,\n            onDrop: handleDrop,\n            children: [role === 'master' && !currentFile && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex flex-col items-center justify-center h-full py-8 sm:py-12 transition-all duration-300 ${isDragOver ? 'bg-purple-500/20 border-2 border-dashed border-purple-400 rounded-xl' : 'bg-transparent'}`,\n              onDragOver: handleDragOver,\n              onDragLeave: handleDragLeave,\n              onDrop: handleDrop,\n              children: isDragOver ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  className: \"w-20 h-20 sm:w-24 sm:h-24 text-purple-300 mb-4 sm:mb-6 animate-bounce\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4\",\n                  children: \"Drop your file here!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-purple-200 mb-4 sm:mb-6 text-center text-sm sm:text-base px-4\",\n                  children: \"Release to upload your lyrics\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Upload, {\n                  className: \"w-16 h-16 sm:w-20 sm:h-20 text-purple-300 mb-4 sm:mb-6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4\",\n                  children: \"Upload Lyrics\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-purple-200 mb-4 sm:mb-6 text-center text-sm sm:text-base px-4\",\n                  children: \"Drag & drop your PDF or image here, or click to browse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 active:from-purple-600 active:to-pink-600 text-white font-bold py-4 px-8 sm:py-4 sm:px-8 rounded-xl cursor-pointer transition-all transform hover:scale-105 active:scale-95 shadow-lg text-base sm:text-base min-h-[48px] flex items-center justify-center\",\n                  onClick: () => document.getElementById('fileInput').click(),\n                  children: \"Choose File\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-purple-300 text-xs mt-3 text-center\",\n                  children: \"Supported formats: PDF, JPG, PNG\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 19\n            }, this), role === 'viewer' && !currentFile && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center justify-center h-full py-8 sm:py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-pulse\",\n                children: /*#__PURE__*/_jsxDEV(FileText, {\n                  className: \"w-16 h-16 sm:w-20 sm:h-20 text-purple-300 mb-4 sm:mb-6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4\",\n                children: \"Waiting for Lyrics...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-purple-200 text-center text-sm sm:text-base px-4\",\n                children: \"The master device will broadcast the lyrics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 19\n            }, this), currentFile && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [isDragOver && role === 'master' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 bg-purple-500/20 border-2 border-dashed border-purple-400 rounded-xl flex items-center justify-center z-10\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Upload, {\n                    className: \"w-16 h-16 text-purple-300 mx-auto mb-4 animate-bounce\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-white font-semibold text-lg\",\n                    children: \"Drop to replace file\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 538,\n                    columnNumber: 28\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg sm:text-xl font-bold text-white flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    className: \"w-5 h-5 sm:w-6 sm:h-6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 544,\n                    columnNumber: 26\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"truncate\",\n                    children: currentFile.fileName || currentFile.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 545,\n                    columnNumber: 26\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 24\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: toggleFullscreen,\n                    className: \"bg-blue-500 hover:bg-blue-400 active:bg-blue-600 text-white px-3 py-2 rounded-lg transition-all text-sm flex items-center gap-1\",\n                    title: isFullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\",\n                    children: [isFullscreen ? /*#__PURE__*/_jsxDEV(Minimize2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 44\n                    }, this) : /*#__PURE__*/_jsxDEV(Maximize2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 80\n                    }, this), isFullscreen ? \"Exit\" : \"Fullscreen\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 26\n                  }, this), role === 'master' && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => document.getElementById('fileInput').click(),\n                    className: \"bg-purple-500 hover:bg-purple-400 active:bg-purple-600 text-white px-4 py-2 rounded-lg transition-all text-sm flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Upload, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 564,\n                      columnNumber: 30\n                    }, this), \"Change File\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 28\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white rounded-xl p-3 sm:p-4 h-80 sm:h-96 overflow-auto\",\n                children: isExtractingText ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center h-full\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 30\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600\",\n                      children: \"Extracting text from file...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 575,\n                      columnNumber: 30\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 28\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 26\n                }, this) : filePreview && currentFile.mimeType && currentFile.mimeType.startsWith('image/') ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center h-full overflow-hidden\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: filePreview,\n                    alt: \"Lyrics\",\n                    className: \"max-w-full max-h-full object-contain\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 28\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 26\n                }, this) : currentFile.mimeType === 'application/pdf' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3 sm:mb-4 p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-200\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2 text-blue-700\",\n                      children: [/*#__PURE__*/_jsxDEV(FileText, {\n                        className: \"w-4 h-4 sm:w-5 sm:h-5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 590,\n                        columnNumber: 32\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-semibold text-sm sm:text-base\",\n                        children: [\"PDF Document: \", currentFile.fileName]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 591,\n                        columnNumber: 32\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 589,\n                      columnNumber: 30\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 588,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full h-80 sm:h-96 border rounded-lg overflow-hidden\",\n                    children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n                      src: `${process.env.REACT_APP_SERVER_URL || (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app')}/uploads/${currentFile.storedFileName}`,\n                      className: \"w-full h-full\",\n                      title: \"PDF Viewer\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 595,\n                      columnNumber: 30\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 594,\n                    columnNumber: 28\n                  }, this), currentFile.extractedText && currentFile.extractedText.trim() && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3 sm:mt-4 p-3 sm:p-4 bg-gray-100 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-semibold text-gray-700 mb-2 text-sm sm:text-base\",\n                      children: \"Extracted Text:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 604,\n                      columnNumber: 32\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-gray-800 whitespace-pre-wrap text-xs sm:text-sm\",\n                      style: {\n                        fontFamily: '\"Noto Sans Sinhala\", Arial, sans-serif'\n                      },\n                      children: currentFile.extractedText\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 605,\n                      columnNumber: 32\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 603,\n                    columnNumber: 30\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 26\n                }, this) : currentFile.extractedText && currentFile.extractedText.trim() ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-800 whitespace-pre-wrap\",\n                  style: {\n                    fontFamily: '\"Noto Sans Sinhala\", Arial, sans-serif'\n                  },\n                  children: currentFile.extractedText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 26\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col items-center justify-center h-full text-center p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    className: \"w-16 h-16 text-gray-400 mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 617,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-semibold text-gray-700 mb-2\",\n                    children: currentFile.fileName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 618,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500 text-sm\",\n                    children: \"File uploaded successfully\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-400 text-xs mt-2\",\n                    children: \"Text extraction in progress or failed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 28\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 22\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1 space-y-4 sm:space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"w-4 h-4 sm:w-5 sm:h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this), \"Band Members (\", connectedDevices, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3 p-3 bg-white/20 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 bg-green-400 rounded-full animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-white font-semibold text-sm\",\n                    children: [user === null || user === void 0 ? void 0 : user.displayName, \" (You)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 641,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-purple-300 text-xs\",\n                    children: [isConnected ? 'Connected' : 'Disconnected', \" \\u2022 \", role]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 644,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-green-400 text-xs font-mono\",\n                  children: sessionId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 648,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this), bandMembers.map((member, index) => {\n                var _member$user2, _member$user3;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 p-3 bg-white/10 rounded-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-3 h-3 bg-blue-400 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 655,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-white font-semibold text-sm\",\n                      children: ((_member$user2 = member.user) === null || _member$user2 === void 0 ? void 0 : _member$user2.displayName) || ((_member$user3 = member.user) === null || _member$user3 === void 0 ? void 0 : _member$user3.username) || (member.role === 'master' ? 'Master Device' : 'Band Member')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 657,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-purple-300 text-xs\",\n                      children: [\"Joined \", new Date(member.joinedAt).toLocaleTimeString(), \" \\u2022 \", member.role]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 660,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 656,\n                    columnNumber: 23\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 654,\n                  columnNumber: 21\n                }, this);\n              }), bandMembers.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-4\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: \"w-8 h-8 text-purple-300 mx-auto mb-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 669,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-purple-300 text-sm\",\n                  children: \"No other members yet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Monitor, {\n                className: \"w-4 h-4 sm:w-5 sm:h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 19\n              }, this), \"Activity Log\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 sm:space-y-3 max-h-80 sm:max-h-96 overflow-y-auto\",\n              children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/20 rounded-lg p-2 sm:p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-white text-xs sm:text-sm\",\n                  children: msg.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-purple-300 text-xs mt-1\",\n                  children: msg.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 686,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 21\n              }, this)), messages.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-purple-300 text-center py-6 sm:py-8 text-sm\",\n                children: \"No activity yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 border border-white/20 mt-4 sm:mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4\",\n              children: \"How It Works\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-2 sm:space-y-3 text-purple-200 text-xs sm:text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-400\",\n                  children: \"1.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Master device uploads lyrics file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 700,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-400\",\n                  children: \"2.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"File is broadcast to all connected devices\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 704,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-400\",\n                  children: \"3.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 707,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"All band members see the same content instantly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 5\n  }, this);\n}\n_s(BandLyricsSync, \"BBHykVdEUKuxrASD6TQEDPepy7I=\");\n_c = BandLyricsSync;\nvar _c;\n$RefreshReg$(_c, \"BandLyricsSync\");","map":{"version":3,"names":["React","useState","useEffect","Music","Users","FileText","Upload","Monitor","ArrowLeft","Maximize2","Minimize2","X","LogOut","User","io","getServerUrl","getApiUrl","jsxDEV","_jsxDEV","Fragment","_Fragment","BandLyricsSync","user","onLogout","_s","role","setRole","sessionId","setSessionId","currentFile","setCurrentFile","filePreview","setFilePreview","connectedDevices","setConnectedDevices","messages","setMessages","socket","setSocket","isConnected","setIsConnected","isExtractingText","setIsExtractingText","isFullscreen","setIsFullscreen","bandMembers","setBandMembers","isDragOver","setIsDragOver","storedUser","localStorage","getItem","userData","JSON","parse","sessionRole","newSessionId","Math","random","toString","substr","toUpperCase","setItem","error","console","serverUrl","process","env","REACT_APP_SERVER_URL","window","location","hostname","log","newSocket","transports","timeout","forceNew","on","addMessage","reason","message","count","fileData","fileName","storedFileName","data","_data$user","_data$user2","displayName","username","prev","joinedAt","Date","toISOString","_data$user3","_data$user4","filter","member","_member$user","_data$user5","id","close","msg","text","time","toLocaleTimeString","handleFileUpload","file","name","formData","FormData","append","token","response","fetch","method","headers","body","ok","result","json","errorData","handleFileInputChange","e","target","files","handleDragOver","preventDefault","stopPropagation","handleDragLeave","handleDrop","dataTransfer","length","supportedTypes","includes","type","handleRoleSelect","selectedRole","emit","setTimeout","handleBackToRoleSelection","removeItem","handleClearSession","handleLogout","toggleFullscreen","newFullscreenState","className","children","onClick","title","_jsxFileName","lineNumber","columnNumber","mimeType","startsWith","src","alt","accept","onChange","onDragOver","onDragLeave","onDrop","document","getElementById","click","extractedText","trim","style","fontFamily","map","index","_member$user2","_member$user3","idx","_c","$RefreshReg$"],"sources":["D:/Learn/Company/PEOSONAL/Suralyric/src/components/BandLyricsSync.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Music, Users, FileText, Upload, Monitor, ArrowLeft, Maximize2, Minimize2, X, LogOut, User } from 'lucide-react';\nimport { io } from 'socket.io-client';\nimport { getServerUrl, getApiUrl } from '../utils/api';\n\nexport default function BandLyricsSync({ user, onLogout }) {\n  const [role, setRole] = useState('');\n  const [sessionId, setSessionId] = useState('');\n  const [currentFile, setCurrentFile] = useState(null);\n  const [filePreview, setFilePreview] = useState('');\n  const [connectedDevices, setConnectedDevices] = useState(1);\n  const [messages, setMessages] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [isExtractingText, setIsExtractingText] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [bandMembers, setBandMembers] = useState([]);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  // Check for stored role on component mount - but don't auto-set role\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      try {\n        const userData = JSON.parse(storedUser);\n        // Don't automatically set role - let user choose each time\n        // Only set role if it's explicitly stored as a session role (not user role)\n        const sessionRole = localStorage.getItem('sessionRole');\n        if (sessionRole && sessionRole !== '') {\n          setRole(sessionRole);\n          const sessionId = localStorage.getItem('sessionId');\n          if (sessionId) {\n            setSessionId(sessionId);\n          } else {\n            const newSessionId = `BAND-${Math.random().toString(36).substr(2, 6).toUpperCase()}`;\n            setSessionId(newSessionId);\n            localStorage.setItem('sessionId', newSessionId);\n          }\n        }\n      } catch (error) {\n        console.error('Error parsing stored user data:', error);\n      }\n    }\n  }, []);\n\n  // Initialize socket connection\n  useEffect(() => {\n    const serverUrl = process.env.REACT_APP_SERVER_URL || \n      (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app');\n    console.log('Connecting to server:', serverUrl);\n    const newSocket = io(serverUrl, {\n      transports: ['websocket', 'polling'],\n      timeout: 20000,\n      forceNew: true\n    });\n    setSocket(newSocket);\n\n    newSocket.on('connect', () => {\n      setIsConnected(true);\n      addMessage('ðŸ”— Connected to server');\n    });\n\n    newSocket.on('disconnect', (reason) => {\n      setIsConnected(false);\n      addMessage(`âŒ Disconnected from server: ${reason}`);\n      console.log('Socket disconnected:', reason);\n    });\n\n    newSocket.on('connect_error', (error) => {\n      console.error('Socket connection error:', error);\n      addMessage(`âŒ Connection failed: ${error.message}`);\n    });\n\n    newSocket.on('error', (error) => {\n      console.error('Socket error:', error);\n      addMessage(`âŒ Socket error: ${error.message}`);\n    });\n\n    newSocket.on('deviceCountUpdate', (count) => {\n      setConnectedDevices(count);\n    });\n\n    newSocket.on('fileSync', (fileData) => {\n      if (fileData && fileData.fileName) {\n        setCurrentFile(fileData);\n        // Use storedFileName for the actual file access, but display original fileName\n        const serverUrl = process.env.REACT_APP_SERVER_URL || \n          (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app');\n        setFilePreview(`${serverUrl}/uploads/${fileData.storedFileName}`);\n        addMessage(`ðŸ“„ \"${fileData.fileName}\" received from master`);\n        setIsExtractingText(false);\n      }\n    });\n\n    newSocket.on('fileUploaded', (data) => {\n      addMessage(`ðŸ“„ \"${data.fileName}\" uploaded by master`);\n    });\n\n    newSocket.on('userJoined', (data) => {\n      const displayName = data.user?.displayName || data.user?.username || data.role;\n      addMessage(`ðŸ‘¤ ${displayName} joined the session`);\n      // Update band members list\n      setBandMembers(prev => [...prev, { \n        role: data.role, \n        user: data.user,\n        joinedAt: new Date().toISOString() \n      }]);\n    });\n\n    newSocket.on('userLeft', (data) => {\n      const displayName = data.user?.displayName || data.user?.username || data.role;\n      addMessage(`ðŸ‘¤ ${displayName} left the session`);\n      setBandMembers(prev => prev.filter(member => \n        member.user?.id !== data.user?.id && member.role !== data.role\n      ));\n    });\n\n    newSocket.on('fullscreenToggle', (data) => {\n      setIsFullscreen(data.isFullscreen);\n    });\n\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  const addMessage = (msg) => {\n    setMessages(prev => [...prev, { text: msg, time: new Date().toLocaleTimeString() }]);\n  };\n\n  const handleFileUpload = async (file) => {\n    if (file && role === 'master' && socket) {\n      setIsExtractingText(true);\n      addMessage(`ðŸ“„ Uploading \"${file.name}\" and extracting text...`);\n      \n      const formData = new FormData();\n      formData.append('file', file);\n\n      try {\n        const token = localStorage.getItem('token');\n        const serverUrl = process.env.REACT_APP_SERVER_URL || \n          (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app');\n        const response = await fetch(`${serverUrl}/api/upload`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          },\n          body: formData,\n        });\n\n        if (response.ok) {\n          const result = await response.json();\n          addMessage(`ðŸ“„ \"${file.name}\" uploaded and processed successfully`);\n          \n          // Manually trigger file display for master device\n          if (result.file) {\n            setCurrentFile(result.file);\n            const serverUrl = process.env.REACT_APP_SERVER_URL || \n          (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app');\n            setFilePreview(`${serverUrl}/uploads/${result.file.storedFileName}`);\n          }\n        } else {\n          const errorData = await response.json();\n          addMessage(`âŒ Failed to upload file: ${errorData.error || 'Unknown error'}`);\n        }\n      } catch (error) {\n        console.error('Upload error:', error);\n        addMessage(`âŒ Upload failed: ${error.message}`);\n      } finally {\n        setIsExtractingText(false);\n      }\n    }\n  };\n\n  const handleFileInputChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  };\n\n  // Drag and drop handlers\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (role === 'master') {\n      setIsDragOver(true);\n    }\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragOver(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragOver(false);\n    \n    if (role === 'master') {\n      const files = e.dataTransfer.files;\n      if (files.length > 0) {\n        const file = files[0];\n        // Check if file type is supported\n        const supportedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'];\n        if (supportedTypes.includes(file.type)) {\n          handleFileUpload(file);\n        } else {\n          addMessage(`âŒ Unsupported file type. Please upload PDF, JPG, or PNG files.`);\n        }\n      }\n    }\n  };\n\n  const handleRoleSelect = (selectedRole) => {\n    setRole(selectedRole);\n    const newSessionId = `BAND-${Math.random().toString(36).substr(2, 6).toUpperCase()}`;\n    setSessionId(newSessionId);\n    \n    // Store session role separately from user data\n    localStorage.setItem('sessionRole', selectedRole);\n    localStorage.setItem('sessionId', newSessionId);\n    \n    // Don't update user's role in localStorage - keep user data separate from session role\n    const userData = { ...user };\n    \n    if (socket) {\n      socket.emit('joinSession', { \n        role: selectedRole, \n        sessionId: newSessionId,\n        user: userData\n      });\n    }\n    \n    addMessage(`âœ… Connected as ${selectedRole}`);\n    if (selectedRole === 'viewer') {\n      setTimeout(() => {\n        addMessage('ðŸŽµ Waiting for lyrics from master device...');\n      }, 500);\n    }\n  };\n\n  const handleBackToRoleSelection = () => {\n    // Reset role and session\n    setRole('');\n    setSessionId('');\n    setCurrentFile(null);\n    setFilePreview('');\n    setMessages([]);\n    setIsFullscreen(false);\n    setBandMembers([]);\n    \n    // Clear session role from localStorage (not user data)\n    localStorage.removeItem('sessionRole');\n    localStorage.removeItem('sessionId');\n    \n    // Leave the current session\n    if (socket) {\n      socket.emit('leaveSession');\n    }\n    \n    addMessage('ðŸ”„ Returned to role selection');\n  };\n\n  const handleClearSession = () => {\n    // Reset everything\n    setRole('');\n    setSessionId('');\n    setCurrentFile(null);\n    setFilePreview('');\n    setMessages([]);\n    setIsFullscreen(false);\n    setBandMembers([]);\n    setConnectedDevices(1);\n    \n    // Clear session role from localStorage (not user data)\n    localStorage.removeItem('sessionRole');\n    localStorage.removeItem('sessionId');\n    \n    // Leave the current session\n    if (socket) {\n      socket.emit('leaveSession');\n    }\n    \n    addMessage('ðŸ”„ Session cleared - please select your role');\n  };\n\n  const handleLogout = () => {\n    // Leave the current session\n    if (socket) {\n      socket.emit('leaveSession');\n    }\n    \n    // Clear session data from localStorage\n    localStorage.removeItem('sessionRole');\n    localStorage.removeItem('sessionId');\n    \n    // Call the logout function from parent\n    onLogout();\n  };\n\n  const toggleFullscreen = () => {\n    const newFullscreenState = !isFullscreen;\n    setIsFullscreen(newFullscreenState);\n    \n    if (socket) {\n      socket.emit('fullscreenToggle', { isFullscreen: newFullscreenState });\n    }\n  };\n\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 p-2 sm:p-4\">\n      {/* Fullscreen Overlay */}\n      {isFullscreen && currentFile && (\n        <div className=\"fixed inset-0 bg-black z-50 flex items-center justify-center\">\n          <div className=\"relative w-full h-full flex items-center justify-center p-2 sm:p-4\">\n            {/* Exit fullscreen button */}\n            <button\n              onClick={toggleFullscreen}\n              className=\"absolute top-4 right-4 bg-red-500 hover:bg-red-400 text-white p-3 rounded-full z-10\"\n              title=\"Exit Fullscreen\"\n            >\n              <X className=\"w-6 h-6\" />\n            </button>\n            \n            \n            {/* Fullscreen media content */}\n            <div className=\"w-full h-full flex items-center justify-center overflow-hidden\">\n              {currentFile.mimeType && currentFile.mimeType.startsWith('image/') ? (\n                <img\n                  src={filePreview}\n                  alt=\"Lyrics\"\n                  className=\"max-w-full max-h-full object-contain\"\n                />\n              ) : currentFile.mimeType === 'application/pdf' ? (\n                <iframe\n                  src={`${process.env.REACT_APP_SERVER_URL || \n          (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app')}/uploads/${currentFile.storedFileName}`}\n                  className=\"w-full h-full\"\n                  title=\"PDF Viewer\"\n                />\n              ) : (\n                <div className=\"text-white text-center\">\n                  <FileText className=\"w-16 h-16 mx-auto mb-4\" />\n                  <p className=\"text-lg\">{currentFile.fileName}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n      {/* Hidden file input for master device - always available */}\n      {role === 'master' && (\n        <input\n          id=\"fileInput\"\n          type=\"file\"\n          accept=\".pdf,.jpg,.jpeg,.png\"\n          onChange={handleFileInputChange}\n          className=\"hidden\"\n        />\n      )}\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 border border-white/20\">\n          <div className=\"flex flex-col gap-4\">\n            {/* Top row: Back button, title, and status */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                {role && (\n                  <button\n                    onClick={handleBackToRoleSelection}\n                    className=\"flex items-center justify-center bg-white/20 hover:bg-white/30 active:bg-white/40 text-white px-3 py-3 sm:px-3 sm:py-2 rounded-lg transition-all transform hover:scale-105 active:scale-95 min-h-[44px] sm:min-h-0\"\n                    title=\"Back to role selection\"\n                  >\n                    <ArrowLeft className=\"w-5 h-5 sm:w-4 sm:h-4\" />\n                  </button>\n                )}\n                <Music className=\"w-6 h-6 sm:w-8 sm:h-8 text-purple-300\" />\n                <h1 className=\"text-2xl sm:text-3xl font-bold text-white\">Suralyric</h1>\n              </div>\n              \n              {/* User info and logout button */}\n              <div className=\"flex items-center gap-3\">\n                {user && (\n                  <div className=\"flex items-center gap-2 bg-white/20 px-3 py-2 rounded-lg\">\n                    <User className=\"w-4 h-4 text-purple-300\" />\n                    <div className=\"text-right\">\n                      <div className=\"text-white font-semibold text-sm\">{user.displayName}</div>\n                      <div className=\"text-purple-300 text-xs\">{user.role}</div>\n                    </div>\n                  </div>\n                )}\n                \n                \n                {/* Connection status */}\n                {sessionId && (\n                  <div className={`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold ${\n                    isConnected ? 'bg-green-500/20 text-green-300' : 'bg-red-500/20 text-red-300'\n                  }`}>\n                    {isConnected ? 'ðŸŸ¢ Connected' : 'ðŸ”´ Disconnected'}\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            {/* Session info row - moved to right side */}\n            {sessionId && (\n              <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 justify-end\">\n                <div className=\"flex items-center gap-2 bg-white/20 px-3 sm:px-4 py-2 rounded-lg\">\n                  <Users className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-300\" />\n                  <span className=\"text-white font-semibold text-sm sm:text-base\">{connectedDevices} Devices</span>\n                </div>\n                <div className=\"bg-white/20 px-3 sm:px-4 py-2 rounded-lg\">\n                  <span className=\"text-purple-200 text-xs sm:text-sm\">Session: </span>\n                  <span className=\"text-white font-mono font-bold text-xs sm:text-sm\">{sessionId}</span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {!role ? (\n          /* Role Selection */\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 sm:p-8 lg:p-12 border border-white/20\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl sm:text-2xl font-bold text-white\">Welcome, {user?.displayName}!</h2>\n              <button\n                onClick={handleLogout}\n                className=\"flex items-center gap-2 bg-red-500/20 hover:bg-red-500/30 active:bg-red-500/40 text-red-300 hover:text-red-200 px-3 py-2 rounded-lg transition-all\"\n                title=\"Logout\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n                <span className=\"text-sm\">Logout</span>\n              </button>\n            </div>\n            <p className=\"text-purple-200 text-center mb-6 sm:mb-8\">Select your role to join the session:</p>\n            <div className=\"text-center mb-4\">\n              <button\n                onClick={handleClearSession}\n                className=\"text-purple-300 hover:text-purple-200 text-sm underline\"\n                title=\"Clear current session and start fresh\"\n              >\n                Clear Session & Start Fresh\n              </button>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6\">\n              <button\n                onClick={() => handleRoleSelect('master')}\n                className=\"group bg-gradient-to-br from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 active:from-green-600 active:to-emerald-700 p-6 sm:p-8 rounded-xl transition-all transform hover:scale-105 active:scale-95 shadow-2xl min-h-[200px] sm:min-h-0\"\n              >\n                <Monitor className=\"w-12 h-12 sm:w-16 sm:h-16 text-white mx-auto mb-3 sm:mb-4\" />\n                <h3 className=\"text-lg sm:text-2xl font-bold text-white mb-2\">Master Device</h3>\n                <p className=\"text-green-100 text-sm sm:text-base\">Control and broadcast lyrics to all band members</p>\n              </button>\n              \n              <button\n                onClick={() => handleRoleSelect('viewer')}\n                className=\"group bg-gradient-to-br from-blue-500 to-indigo-600 hover:from-blue-400 hover:to-indigo-500 active:from-blue-600 active:to-indigo-700 p-6 sm:p-8 rounded-xl transition-all transform hover:scale-105 active:scale-95 shadow-2xl min-h-[200px] sm:min-h-0\"\n              >\n                <FileText className=\"w-12 h-12 sm:w-16 sm:h-16 text-white mx-auto mb-3 sm:mb-4\" />\n                <h3 className=\"text-lg sm:text-2xl font-bold text-white mb-2\">Band Member</h3>\n                <p className=\"text-blue-100 text-sm sm:text-base\">Receive and view lyrics synced from master</p>\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6\">\n            {/* Main Display Area */}\n            <div className=\"lg:col-span-2\">\n              <div \n                className={`bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 border border-white/20 min-h-80 sm:min-h-96 transition-all duration-300 ${\n                  isDragOver && role === 'master' \n                    ? 'bg-purple-500/20 border-2 border-dashed border-purple-400' \n                    : ''\n                }`}\n                onDragOver={handleDragOver}\n                onDragLeave={handleDragLeave}\n                onDrop={handleDrop}\n              >\n                {role === 'master' && !currentFile && (\n                  <div \n                    className={`flex flex-col items-center justify-center h-full py-8 sm:py-12 transition-all duration-300 ${\n                      isDragOver \n                        ? 'bg-purple-500/20 border-2 border-dashed border-purple-400 rounded-xl' \n                        : 'bg-transparent'\n                    }`}\n                    onDragOver={handleDragOver}\n                    onDragLeave={handleDragLeave}\n                    onDrop={handleDrop}\n                  >\n                    {isDragOver ? (\n                      <>\n                        <Upload className=\"w-20 h-20 sm:w-24 sm:h-24 text-purple-300 mb-4 sm:mb-6 animate-bounce\" />\n                        <h3 className=\"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4\">Drop your file here!</h3>\n                        <p className=\"text-purple-200 mb-4 sm:mb-6 text-center text-sm sm:text-base px-4\">Release to upload your lyrics</p>\n                      </>\n                    ) : (\n                      <>\n                        <Upload className=\"w-16 h-16 sm:w-20 sm:h-20 text-purple-300 mb-4 sm:mb-6\" />\n                        <h3 className=\"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4\">Upload Lyrics</h3>\n                        <p className=\"text-purple-200 mb-4 sm:mb-6 text-center text-sm sm:text-base px-4\">\n                          Drag & drop your PDF or image here, or click to browse\n                        </p>\n                        <label \n                          className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 active:from-purple-600 active:to-pink-600 text-white font-bold py-4 px-8 sm:py-4 sm:px-8 rounded-xl cursor-pointer transition-all transform hover:scale-105 active:scale-95 shadow-lg text-base sm:text-base min-h-[48px] flex items-center justify-center\"\n                          onClick={() => document.getElementById('fileInput').click()}\n                        >\n                          Choose File\n                        </label>\n                        <p className=\"text-purple-300 text-xs mt-3 text-center\">\n                          Supported formats: PDF, JPG, PNG\n                        </p>\n                      </>\n                    )}\n                  </div>\n                )}\n\n                {role === 'viewer' && !currentFile && (\n                  <div className=\"flex flex-col items-center justify-center h-full py-8 sm:py-12\">\n                    <div className=\"animate-pulse\">\n                      <FileText className=\"w-16 h-16 sm:w-20 sm:h-20 text-purple-300 mb-4 sm:mb-6\" />\n                    </div>\n                    <h3 className=\"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4\">Waiting for Lyrics...</h3>\n                    <p className=\"text-purple-200 text-center text-sm sm:text-base px-4\">The master device will broadcast the lyrics</p>\n                  </div>\n                )}\n\n                 {currentFile && (\n                   <div className=\"relative\">\n                     {isDragOver && role === 'master' && (\n                       <div className=\"absolute inset-0 bg-purple-500/20 border-2 border-dashed border-purple-400 rounded-xl flex items-center justify-center z-10\">\n                         <div className=\"text-center\">\n                           <Upload className=\"w-16 h-16 text-purple-300 mx-auto mb-4 animate-bounce\" />\n                           <p className=\"text-white font-semibold text-lg\">Drop to replace file</p>\n                         </div>\n                       </div>\n                     )}\n                     <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-2\">\n                       <h3 className=\"text-lg sm:text-xl font-bold text-white flex items-center gap-2\">\n                         <FileText className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                         <span className=\"truncate\">{currentFile.fileName || currentFile.name}</span>\n                       </h3>\n                       <div className=\"flex flex-wrap gap-2\">\n                         {/* Fullscreen toggle button */}\n                         <button\n                           onClick={toggleFullscreen}\n                           className=\"bg-blue-500 hover:bg-blue-400 active:bg-blue-600 text-white px-3 py-2 rounded-lg transition-all text-sm flex items-center gap-1\"\n                           title={isFullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\"}\n                         >\n                           {isFullscreen ? <Minimize2 className=\"w-4 h-4\" /> : <Maximize2 className=\"w-4 h-4\" />}\n                           {isFullscreen ? \"Exit\" : \"Fullscreen\"}\n                         </button>\n                         \n                         \n                         {role === 'master' && (\n                           <button\n                             onClick={() => document.getElementById('fileInput').click()}\n                             className=\"bg-purple-500 hover:bg-purple-400 active:bg-purple-600 text-white px-4 py-2 rounded-lg transition-all text-sm flex items-center gap-1\"\n                           >\n                             <Upload className=\"w-4 h-4\" />\n                             Change File\n                           </button>\n                         )}\n                       </div>\n                     </div>\n                     <div className=\"bg-white rounded-xl p-3 sm:p-4 h-80 sm:h-96 overflow-auto\">\n                       {isExtractingText ? (\n                         <div className=\"flex items-center justify-center h-full\">\n                           <div className=\"text-center\">\n                             <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4\"></div>\n                             <p className=\"text-gray-600\">Extracting text from file...</p>\n                           </div>\n                         </div>\n                       ) : filePreview && currentFile.mimeType && currentFile.mimeType.startsWith('image/') ? (\n                         <div className=\"flex items-center justify-center h-full overflow-hidden\">\n                           <img\n                             src={filePreview}\n                             alt=\"Lyrics\"\n                             className=\"max-w-full max-h-full object-contain\"\n                           />\n                         </div>\n                       ) : currentFile.mimeType === 'application/pdf' ? (\n                         <div>\n                           <div className=\"mb-3 sm:mb-4 p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                             <div className=\"flex items-center gap-2 text-blue-700\">\n                               <FileText className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n                               <span className=\"font-semibold text-sm sm:text-base\">PDF Document: {currentFile.fileName}</span>\n                             </div>\n                           </div>\n                           <div className=\"w-full h-80 sm:h-96 border rounded-lg overflow-hidden\">\n                             <iframe\n                               src={`${process.env.REACT_APP_SERVER_URL || \n          (window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://YOUR_RAILWAY_URL.railway.app')}/uploads/${currentFile.storedFileName}`}\n                               className=\"w-full h-full\"\n                               title=\"PDF Viewer\"\n                             />\n                           </div>\n                           {currentFile.extractedText && currentFile.extractedText.trim() && (\n                             <div className=\"mt-3 sm:mt-4 p-3 sm:p-4 bg-gray-100 rounded-lg\">\n                               <h4 className=\"font-semibold text-gray-700 mb-2 text-sm sm:text-base\">Extracted Text:</h4>\n                               <div className=\"text-gray-800 whitespace-pre-wrap text-xs sm:text-sm\" style={{ fontFamily: '\"Noto Sans Sinhala\", Arial, sans-serif' }}>\n                                 {currentFile.extractedText}\n                               </div>\n                             </div>\n                           )}\n                         </div>\n                       ) : currentFile.extractedText && currentFile.extractedText.trim() ? (\n                         <div className=\"text-gray-800 whitespace-pre-wrap\" style={{ fontFamily: '\"Noto Sans Sinhala\", Arial, sans-serif' }}>\n                           {currentFile.extractedText}\n                         </div>\n                       ) : (\n                         <div className=\"flex flex-col items-center justify-center h-full text-center p-4\">\n                           <FileText className=\"w-16 h-16 text-gray-400 mb-4\" />\n                           <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">{currentFile.fileName}</h3>\n                           <p className=\"text-gray-500 text-sm\">File uploaded successfully</p>\n                           <p className=\"text-gray-400 text-xs mt-2\">Text extraction in progress or failed</p>\n                         </div>\n                       )}\n                     </div>\n                   </div>\n                 )}\n              </div>\n            </div>\n\n            {/* Band Members & Activity Log */}\n            <div className=\"lg:col-span-1 space-y-4 sm:space-y-6\">\n              {/* Band Members Section */}\n              <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 border border-white/20\">\n                <h3 className=\"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4 flex items-center gap-2\">\n                  <Users className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n                  Band Members ({connectedDevices})\n                </h3>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-3 p-3 bg-white/20 rounded-lg\">\n                    <div className=\"w-3 h-3 bg-green-400 rounded-full animate-pulse\"></div>\n                    <div className=\"flex-1\">\n                      <div className=\"text-white font-semibold text-sm\">\n                        {user?.displayName} (You)\n                      </div>\n                      <div className=\"text-purple-300 text-xs\">\n                        {isConnected ? 'Connected' : 'Disconnected'} â€¢ {role}\n                      </div>\n                    </div>\n                    <div className=\"text-green-400 text-xs font-mono\">\n                      {sessionId}\n                    </div>\n                  </div>\n                  \n                  {bandMembers.map((member, index) => (\n                    <div key={index} className=\"flex items-center gap-3 p-3 bg-white/10 rounded-lg\">\n                      <div className=\"w-3 h-3 bg-blue-400 rounded-full\"></div>\n                      <div className=\"flex-1\">\n                        <div className=\"text-white font-semibold text-sm\">\n                          {member.user?.displayName || member.user?.username || (member.role === 'master' ? 'Master Device' : 'Band Member')}\n                        </div>\n                        <div className=\"text-purple-300 text-xs\">\n                          Joined {new Date(member.joinedAt).toLocaleTimeString()} â€¢ {member.role}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                  \n                  {bandMembers.length === 0 && (\n                    <div className=\"text-center py-4\">\n                      <Users className=\"w-8 h-8 text-purple-300 mx-auto mb-2\" />\n                      <p className=\"text-purple-300 text-sm\">No other members yet</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Activity Log */}\n              <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 border border-white/20\">\n                <h3 className=\"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4 flex items-center gap-2\">\n                  <Monitor className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n                  Activity Log\n                </h3>\n                <div className=\"space-y-2 sm:space-y-3 max-h-80 sm:max-h-96 overflow-y-auto\">\n                  {messages.map((msg, idx) => (\n                    <div key={idx} className=\"bg-white/20 rounded-lg p-2 sm:p-3\">\n                      <p className=\"text-white text-xs sm:text-sm\">{msg.text}</p>\n                      <p className=\"text-purple-300 text-xs mt-1\">{msg.time}</p>\n                    </div>\n                  ))}\n                  {messages.length === 0 && (\n                    <p className=\"text-purple-300 text-center py-6 sm:py-8 text-sm\">No activity yet</p>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-4 sm:p-6 border border-white/20 mt-4 sm:mt-6\">\n                <h3 className=\"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4\">How It Works</h3>\n                <ul className=\"space-y-2 sm:space-y-3 text-purple-200 text-xs sm:text-sm\">\n                  <li className=\"flex items-start gap-2\">\n                    <span className=\"text-green-400\">1.</span>\n                    <span>Master device uploads lyrics file</span>\n                  </li>\n                  <li className=\"flex items-start gap-2\">\n                    <span className=\"text-green-400\">2.</span>\n                    <span>File is broadcast to all connected devices</span>\n                  </li>\n                  <li className=\"flex items-start gap-2\">\n                    <span className=\"text-green-400\">3.</span>\n                    <span>All band members see the same content instantly</span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}